<<<<<<< HEAD
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2146px" preserveAspectRatio="none" style="width:1592px;height:2146px;background:#FFFFFF;" version="1.1" viewBox="0 0 1592 2146" width="1592px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="2134.5391" style="stroke:#181818;stroke-width:0.5;" width="673" x="907.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="200" x="1141.5" y="22.708">VZD-FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1341.5" y="23.8872"> </text><rect fill="#DCDCDC" height="1744.2578" style="stroke:#000000;stroke-width:1.0;" width="10" x="329.5" y="276.7188"/><rect fill="#DCDCDC" height="134.1563" style="stroke:#000000;stroke-width:1.0;" width="10" x="564.5" y="763.7344"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="788.5" y="763.7344"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="788.5" y="1086.625"/><rect fill="#DCDCDC" height="121.1563" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="541.2109"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="965.4688"/><rect fill="#DCDCDC" height="101.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1052.8359"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1340.9375"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1512.9297"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1754.2422"/><rect fill="#DCDCDC" height="53.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1240.5" y="575"/><rect fill="#DCDCDC" height="53.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1240.5" y="999.2578"/><rect fill="#DCDCDC" height="186.7344" style="stroke:#000000;stroke-width:1.0;" width="10" x="1240.5" y="1154.2031"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1464.5" y="1613.2969"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1464.5" y="1854.6094"/><rect fill="#F0F8FF" height="979.6406" style="stroke:#000000;stroke-width:1.5;" width="1418.5" x="10" y="403.0859"/><rect height="567.25" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1576.5" x="10" y="1421.7266"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="116" x2="116" y1="111.5625" y2="2030.9766"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="334.5" x2="334.5" y1="111.5625" y2="2030.9766"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="569.5" x2="569.5" y1="111.5625" y2="2030.9766"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="793.5" x2="793.5" y1="111.5625" y2="2030.9766"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1018.5" x2="1018.5" y1="111.5625" y2="2030.9766"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1245.5" x2="1245.5" y1="111.5625" y2="2030.9766"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1469.5" x2="1469.5" y1="111.5625" y2="2030.9766"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="187" x="20" y="83.5645">Akteur in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="95" x="66" y="106.8457">User-HBA</text><ellipse cx="116.5" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M116.5,21.5 L116.5,48.5 M103.5,29.5 L129.5,29.5 M116.5,48.5 L103.5,63.5 M116.5,48.5 L129.5,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="187" x="20" y="2048.541">Akteur in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="95" x="66" y="2071.8223">User-HBA</text><ellipse cx="116.5" cy="2085.0391" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M116.5,2093.0391 L116.5,2120.0391 M103.5,2101.0391 L129.5,2101.0391 M116.5,2120.0391 L103.5,2135.0391 M116.5,2120.0391 L129.5,2135.0391 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="227.5" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="198" x="235.5" y="98.8457">TI-Messenger-Client</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="227.5" y="2029.9766"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="198" x="235.5" y="2055.541">TI-Messenger-Client</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="462.5" y="50"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="138" x="497.5" y="75.5645">Authenticator</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="497" y="98.8457">des IDP-Dienst</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="462.5" y="2029.9766"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="138" x="497.5" y="2055.541">Authenticator</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="497" y="2078.8223">des IDP-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="686.5" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="104" x="741.5" y="98.8457">IDP-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="686.5" y="2029.9766"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="104" x="741.5" y="2055.541">IDP-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="911.5" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="108" x="964.5" y="98.8457">FHIR-Proxy</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="911.5" y="2029.9766"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="108" x="964.5" y="2055.541">FHIR-Proxy</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1138.5" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="128" x="1181.5" y="98.8457">Auth-Service</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1138.5" y="2029.9766"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="128" x="1181.5" y="2055.541">Auth-Service</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1362.5" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="1397" y="98.8457">FHIR-Directory</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1362.5" y="2029.9766"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="1397" y="2055.541">FHIR-Directory</text><rect fill="#DCDCDC" height="1744.2578" style="stroke:#000000;stroke-width:1.0;" width="10" x="329.5" y="276.7188"/><rect fill="#DCDCDC" height="134.1563" style="stroke:#000000;stroke-width:1.0;" width="10" x="564.5" y="763.7344"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="788.5" y="763.7344"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="788.5" y="1086.625"/><rect fill="#DCDCDC" height="121.1563" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="541.2109"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="965.4688"/><rect fill="#DCDCDC" height="101.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1052.8359"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1340.9375"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1512.9297"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1013.5" y="1754.2422"/><rect fill="#DCDCDC" height="53.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1240.5" y="575"/><rect fill="#DCDCDC" height="53.5781" style="stroke:#000000;stroke-width:1.0;" width="10" x="1240.5" y="999.2578"/><rect fill="#DCDCDC" height="186.7344" style="stroke:#000000;stroke-width:1.0;" width="10" x="1240.5" y="1154.2031"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1464.5" y="1613.2969"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1464.5" y="1854.6094"/><path d="M17,151.5625 L17,180.5625 L892,180.5625 L892,161.5625 L882,151.5625 L17,151.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M882,151.5625 L882,161.5625 L892,161.5625 L882,151.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="615" x="142.75" y="172.3423">Der Akteur ist bei einem Messenger Service angemeldet (siehe AF_10057</text><polygon fill="#000000" points="317.5,272.7188,327.5,276.7188,317.5,280.7188,321.5,276.7188" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="116.5" x2="323.5" y1="276.7188" y2="276.7188"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="168" x="123.5" y="231.1313">FHIR Ressourcen im</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="166" x="123.5" y="250.9204">VZD-FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="160" x="123.5" y="270.7095">hinzufügen (MXID)</text><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="381.5" y1="350.0859" y2="350.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="381.5" x2="381.5" y1="350.0859" y2="363.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="340.5" x2="381.5" y1="363.0859" y2="363.0859"/><polygon fill="#000000" points="350.5,359.0859,340.5,363.0859,350.5,367.0859,346.5,363.0859" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="167" x="346.5" y="304.4985">Prüfung, ob gültiges</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="346.5" y="324.2876">owner-accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="64" x="346.5" y="344.0767">vorliegt</text><path d="M10,403.0859 L74,403.0859 L74,410.2188 L64,420.2188 L10,420.2188 L10,403.0859 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="979.6406" style="stroke:#000000;stroke-width:1.5;" width="1418.5" x="10" y="403.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="416.1528">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="89" y="421.1167">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="312" x="94" y="419.9375">kein gültigess owner-access-token</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="406" y="421.1167">]</text><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="381.5" y1="494.4219" y2="494.4219"/><line style="stroke:#000000;stroke-width:1.0;" x1="381.5" x2="381.5" y1="494.4219" y2="507.4219"/><line style="stroke:#000000;stroke-width:1.0;" x1="340.5" x2="381.5" y1="507.4219" y2="507.4219"/><polygon fill="#000000" points="350.5,503.4219,340.5,507.4219,350.5,511.4219,346.5,507.4219" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="164" x="346.5" y="468.6235">Erzeuge PKCE Code</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="211" x="346.5" y="488.4126">für verifier und challenge</text><polygon fill="#000000" points="1001.5,537.2109,1011.5,541.2109,1001.5,545.2109,1005.5,541.2109" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="1007.5" y1="541.2109" y2="541.2109"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="211" x="346.5" y="535.2017">GET /owner-authenticate</text><polygon fill="#000000" points="1228.5,571,1238.5,575,1228.5,579,1232.5,575" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1023.5" x2="1234.5" y1="575" y2="575"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="1030.5" y="568.9907">HTTP Forward</text><polygon fill="#000000" points="1034.5,624.5781,1024.5,628.5781,1034.5,632.5781,1030.5,628.5781" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1028.5" x2="1244.5" y1="628.5781" y2="628.5781"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="115" x="1045.5" y="602.7798">Redirct to IDP</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="193" x="1045.5" y="622.5688">Authorization Endpoint</text><polygon fill="#000000" points="350.5,658.3672,340.5,662.3672,350.5,666.3672,346.5,662.3672" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="1017.5" y1="662.3672" y2="662.3672"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="894.5" y="656.3579">HTTP Forward</text><polygon fill="#000000" points="127.5,692.1563,117.5,696.1563,127.5,700.1563,123.5,696.1563" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="121.5" x2="328.5" y1="696.1563" y2="696.1563"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="189" x="133.5" y="690.147">Liste verfügbarer IDP's</text><polygon fill="#000000" points="317.5,725.9453,327.5,729.9453,317.5,733.9453,321.5,729.9453" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="116.5" x2="323.5" y1="729.9453" y2="729.9453"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="155" x="123.5" y="723.936">ausgewählterr IDP</text><polygon fill="#000000" points="776.5,759.7344,786.5,763.7344,776.5,767.7344,780.5,763.7344" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="782.5" y1="763.7344" y2="763.7344"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="124" x="346.5" y="757.7251">GET /authorize</text><polygon fill="#000000" points="350.5,793.5234,340.5,797.5234,350.5,801.5234,346.5,797.5234" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="787.5" y1="797.5234" y2="797.5234"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="209" x="572.5" y="791.5142">Authentication challenge</text><line style="stroke:#000000;stroke-width:1.0;" x1="574.5" x2="616.5" y1="831.3125" y2="831.3125"/><line style="stroke:#000000;stroke-width:1.0;" x1="616.5" x2="616.5" y1="831.3125" y2="844.3125"/><line style="stroke:#000000;stroke-width:1.0;" x1="575.5" x2="616.5" y1="844.3125" y2="844.3125"/><polygon fill="#000000" points="585.5,840.3125,575.5,844.3125,585.5,848.3125,581.5,844.3125" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="124" x="581.5" y="825.3032">Authentication</text><polygon fill="#000000" points="776.5,893.8906,786.5,897.8906,776.5,901.8906,780.5,897.8906" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="569.5" x2="782.5" y1="897.8906" y2="897.8906"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="124" x="576.5" y="872.0923">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="576.5" y="891.8813">challenge response</text><polygon fill="#000000" points="350.5,927.6797,340.5,931.6797,350.5,935.6797,346.5,931.6797" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="792.5" y1="931.6797" y2="931.6797"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="405" x="381.5" y="925.6704">Authorization Response with Authorization Code</text><polygon fill="#000000" points="1001.5,961.4688,1011.5,965.4688,1001.5,969.4688,1005.5,965.4688" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="1007.5" y1="965.4688" y2="965.4688"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="415" x="346.5" y="959.4595">GET /owner-authenticate with Authorization code</text><polygon fill="#000000" points="1228.5,995.2578,1238.5,999.2578,1228.5,1003.2578,1232.5,999.2578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1018.5" x2="1234.5" y1="999.2578" y2="999.2578"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="1025.5" y="993.2485">HTTP Forward</text><polygon fill="#000000" points="1034.5,1048.8359,1024.5,1052.8359,1034.5,1056.8359,1030.5,1052.8359" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1028.5" x2="1244.5" y1="1052.8359" y2="1052.8359"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="178" x="1060.5" y="1027.0376">POST /tokenEndpoint</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="169" x="1060.5" y="1046.8267">(authorization code)</text><polygon fill="#000000" points="809.5,1082.625,799.5,1086.625,809.5,1090.625,805.5,1086.625" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="803.5" x2="1012.5" y1="1086.625" y2="1086.625"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="889.5" y="1080.6157">HTTP Forward</text><polygon fill="#000000" points="1001.5,1116.4141,1011.5,1120.4141,1001.5,1124.4141,1005.5,1120.4141" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="793.5" x2="1007.5" y1="1120.4141" y2="1120.4141"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="170" x="800.5" y="1114.4048">Response (id_token)</text><polygon fill="#000000" points="1228.5,1150.2031,1238.5,1154.2031,1228.5,1158.2031,1232.5,1154.2031" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1018.5" x2="1234.5" y1="1154.2031" y2="1154.2031"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="1025.5" y="1148.1938">HTTP Forward</text><line style="stroke:#000000;stroke-width:1.0;" x1="1250.5" x2="1292.5" y1="1187.9922" y2="1187.9922"/><line style="stroke:#000000;stroke-width:1.0;" x1="1292.5" x2="1292.5" y1="1187.9922" y2="1200.9922"/><line style="stroke:#000000;stroke-width:1.0;" x1="1251.5" x2="1292.5" y1="1200.9922" y2="1200.9922"/><polygon fill="#000000" points="1261.5,1196.9922,1251.5,1200.9922,1261.5,1204.9922,1257.5,1200.9922" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="121" x="1257.5" y="1181.9829">prüfe id_token</text><line style="stroke:#000000;stroke-width:1.0;" x1="1250.5" x2="1292.5" y1="1254.5703" y2="1254.5703"/><line style="stroke:#000000;stroke-width:1.0;" x1="1292.5" x2="1292.5" y1="1254.5703" y2="1267.5703"/><line style="stroke:#000000;stroke-width:1.0;" x1="1251.5" x2="1292.5" y1="1267.5703" y2="1267.5703"/><polygon fill="#000000" points="1261.5,1263.5703,1251.5,1267.5703,1261.5,1271.5703,1257.5,1267.5703" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="66" x="1257.5" y="1228.772">erzeuge</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1257.5" y="1248.561">owner-accesstoken</text><polygon fill="#000000" points="1034.5,1336.9375,1024.5,1340.9375,1034.5,1344.9375,1030.5,1340.9375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1028.5" x2="1244.5" y1="1340.9375" y2="1340.9375"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="111" x="1072.5" y="1295.3501">HTTP 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="130" x="1072.5" y="1315.1392">(access_token=</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="166" x="1072.5" y="1334.9282">owner-accesstoken)</text><polygon fill="#000000" points="350.5,1370.7266,340.5,1374.7266,350.5,1378.7266,346.5,1374.7266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="1017.5" y1="1374.7266" y2="1374.7266"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="894.5" y="1368.7173">HTTP Forward</text><path d="M10,1421.7266 L297,1421.7266 L297,1432.3516 L287,1442.3516 L10,1442.3516 L10,1421.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="567.25" style="stroke:#000000;stroke-width:1.5;" width="1576.5" x="10" y="1421.7266"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="242" x="25" y="1437.5781">VZD-FHIR-Directory Eintrag</text><polygon fill="#000000" points="1001.5,1508.9297,1011.5,1512.9297,1001.5,1516.9297,1005.5,1512.9297" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="1007.5" y1="1512.9297" y2="1512.9297"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="513" x="346.5" y="1487.1313">GET /owner/TIHealthCareService?providedBy.id=telematikID</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="338" x="346.5" y="1506.9204">Authorization Bearer owner-accesstoken</text><line style="stroke:#000000;stroke-width:1.0;" x1="1023.5" x2="1065.5" y1="1566.5078" y2="1566.5078"/><line style="stroke:#000000;stroke-width:1.0;" x1="1065.5" x2="1065.5" y1="1566.5078" y2="1579.5078"/><line style="stroke:#000000;stroke-width:1.0;" x1="1024.5" x2="1065.5" y1="1579.5078" y2="1579.5078"/><polygon fill="#000000" points="1034.5,1575.5078,1024.5,1579.5078,1034.5,1583.5078,1030.5,1579.5078" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="44" x="1030.5" y="1540.7095">prüfe</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1030.5" y="1560.4985">owner-accesstoken</text><polygon fill="#000000" points="1452.5,1609.2969,1462.5,1613.2969,1452.5,1617.2969,1456.5,1613.2969" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1023.5" x2="1458.5" y1="1613.2969" y2="1613.2969"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="1030.5" y="1607.2876">HTTP Forward</text><polygon fill="#000000" points="1034.5,1643.0859,1024.5,1647.0859,1034.5,1651.0859,1030.5,1647.0859" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1028.5" x2="1468.5" y1="1647.0859" y2="1647.0859"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="262" x="1200.5" y="1641.0767">HTTP 200 OK (result body json)</text><polygon fill="#000000" points="350.5,1676.875,340.5,1680.875,350.5,1684.875,346.5,1680.875" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="1017.5" y1="1680.875" y2="1680.875"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="262" x="749.5" y="1674.8657">HTTP 200 OK (result body json)</text><polygon fill="#000000" points="1001.5,1750.2422,1011.5,1754.2422,1001.5,1758.2422,1005.5,1754.2422" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="339.5" x2="1007.5" y1="1754.2422" y2="1754.2422"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="463" x="346.5" y="1708.6548">PUT /owner/TIHealthCareService?telecom.value=MXID</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="338" x="346.5" y="1728.4438">Authorization Bearer owner-accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="314" x="346.5" y="1748.2329">(Optional: setze Flag für Sichtbarkeit)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1023.5" x2="1065.5" y1="1807.8203" y2="1807.8203"/><line style="stroke:#000000;stroke-width:1.0;" x1="1065.5" x2="1065.5" y1="1807.8203" y2="1820.8203"/><line style="stroke:#000000;stroke-width:1.0;" x1="1024.5" x2="1065.5" y1="1820.8203" y2="1820.8203"/><polygon fill="#000000" points="1034.5,1816.8203,1024.5,1820.8203,1034.5,1824.8203,1030.5,1820.8203" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="44" x="1030.5" y="1782.022">prüfe</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1030.5" y="1801.811">owner-accesstoken</text><polygon fill="#000000" points="1452.5,1850.6094,1462.5,1854.6094,1452.5,1858.6094,1456.5,1854.6094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1023.5" x2="1458.5" y1="1854.6094" y2="1854.6094"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="117" x="1030.5" y="1848.6001">HTTP Forward</text><polygon fill="#000000" points="1034.5,1884.3984,1024.5,1888.3984,1034.5,1892.3984,1030.5,1888.3984" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1028.5" x2="1468.5" y1="1888.3984" y2="1888.3984"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="303" x="1159.5" y="1882.3892">HTTP 201 Created (result body json)</text><polygon fill="#000000" points="350.5,1918.1875,340.5,1922.1875,350.5,1926.1875,346.5,1922.1875" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344.5" x2="1017.5" y1="1922.1875" y2="1922.1875"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="303" x="708.5" y="1916.1782">HTTP 201 Created (result body json)</text><polygon fill="#000000" points="127.5,1951.9766,117.5,1955.9766,127.5,1959.9766,123.5,1955.9766" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="121.5" x2="328.5" y1="1955.9766" y2="1955.9766"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="268.5" y="1949.9673">Status</text><!--MD5=[bdb909d87a02ac09b63a98477b2692ce]
=======
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2228px" preserveAspectRatio="none" style="width:1597px;height:2228px;background:#FFFFFF;" version="1.1" viewBox="0 0 1597 2228" width="1597px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="2216.7422" style="stroke:#181818;stroke-width:0.5;" width="446" x="220" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="93" x="394" y="22.708">Endgerät</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="487" y="23.8872"> </text><rect fill="#F5F5F5" height="2216.7422" style="stroke:#181818;stroke-width:0.5;" width="681" x="894" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="200" x="1132" y="22.708">VZD-FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1332" y="23.8872"> </text><rect fill="#DCDCDC" height="1731.1953" style="stroke:#000000;stroke-width:1.0;" width="10" x="326" y="306.9844"/><rect fill="#DCDCDC" height="134.1563" style="stroke:#000000;stroke-width:1.0;" width="10" x="550" y="706.6328"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="775" y="706.6328"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="775" y="1011.9453"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1000" y="1453.5078"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1000" y="1804.4453"/><rect fill="#DCDCDC" height="100.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="1224" y="504.8984"/><rect fill="#DCDCDC" height="284.5234" style="stroke:#000000;stroke-width:1.0;" width="10" x="1224" y="933.3672"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1459" y="1553.875"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1459" y="1904.8125"/><rect fill="#F0F8FF" height="817.5391" style="stroke:#000000;stroke-width:1.5;" width="1454" x="10" y="433.3516"/><rect height="781.2891" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1581" x="10" y="1289.8906"/><rect height="311.9375" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1367" x="214" y="1342.5156"/><rect height="311.9375" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1367" x="214" y="1693.4531"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="116" x2="116" y1="111.5625" y2="2113.1797"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="331" x2="331" y1="111.5625" y2="2113.1797"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="555" x2="555" y1="111.5625" y2="2113.1797"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="780" x2="780" y1="111.5625" y2="2113.1797"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1005" x2="1005" y1="111.5625" y2="2113.1797"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1229" x2="1229" y1="111.5625" y2="2113.1797"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1464" x2="1464" y1="111.5625" y2="2113.1797"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="187" x="20" y="83.5645">Akteur in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="95" x="66" y="106.8457">User-HBA</text><ellipse cx="116.5" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M116.5,21.5 L116.5,48.5 M103.5,29.5 L129.5,29.5 M116.5,48.5 L103.5,63.5 M116.5,48.5 L129.5,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="187" x="20" y="2130.7441">Akteur in der Rolle</text><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="95" x="66" y="2154.0254">User-HBA</text><ellipse cx="116.5" cy="2167.2422" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M116.5,2175.2422 L116.5,2202.2422 M103.5,2183.2422 L129.5,2183.2422 M116.5,2202.2422 L103.5,2217.2422 M116.5,2202.2422 L129.5,2217.2422 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="224" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="198" x="232" y="98.8457">TI-Messenger-Client</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="224" y="2112.1797"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="198" x="232" y="2137.7441">TI-Messenger-Client</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="448" y="50"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="138" x="483" y="75.5645">Authenticator</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="482.5" y="98.8457">des IDP-Dienst</text><rect fill="#EFEFFF" height="60.5625" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="448" y="2112.1797"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="138" x="483" y="2137.7441">Authenticator</text><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="482.5" y="2161.0254">des IDP-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="673" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="104" x="728" y="98.8457">IDP-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="673" y="2112.1797"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="104" x="728" y="2137.7441">IDP-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="898" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="108" x="951" y="98.8457">FHIR-Proxy</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="898" y="2112.1797"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="108" x="951" y="2137.7441">FHIR-Proxy</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1122" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="128" x="1165" y="98.8457">Auth-Service</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1122" y="2112.1797"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="128" x="1165" y="2137.7441">Auth-Service</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1357" y="73.2813"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="1391.5" y="98.8457">FHIR-Directory</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1357" y="2112.1797"/><text fill="#000000" font-family="Impact" font-size="20" lengthAdjust="spacing" textLength="145" x="1391.5" y="2137.7441">FHIR-Directory</text><rect fill="#DCDCDC" height="1731.1953" style="stroke:#000000;stroke-width:1.0;" width="10" x="326" y="306.9844"/><rect fill="#DCDCDC" height="134.1563" style="stroke:#000000;stroke-width:1.0;" width="10" x="550" y="706.6328"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="775" y="706.6328"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="775" y="1011.9453"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1000" y="1453.5078"/><rect fill="#DCDCDC" height="167.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1000" y="1804.4453"/><rect fill="#DCDCDC" height="100.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="1224" y="504.8984"/><rect fill="#DCDCDC" height="284.5234" style="stroke:#000000;stroke-width:1.0;" width="10" x="1224" y="933.3672"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1459" y="1553.875"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1459" y="1904.8125"/><path d="M17,151.5625 L17,211.5625 L879,211.5625 L879,161.5625 L869,151.5625 L17,151.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M869,151.5625 L869,161.5625 L879,161.5625 L869,151.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="132.5" y="168.6294"> </text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="622" x="132.5" y="187.4751">Der Akteur ist bei einem Messenger Service angemeldet (siehe AF_10057)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="132.5" y="203.5513"> </text><polygon fill="#000000" points="314,302.9844,324,306.9844,314,310.9844,318,306.9844" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="116.5" x2="320" y1="306.9844" y2="306.9844"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="168" x="123.5" y="261.397">FHIR Ressourcen im</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="166" x="123.5" y="281.186">VZD-FHIR-Directory</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="160" x="123.5" y="300.9751">hinzufügen (MXID)</text><line style="stroke:#000000;stroke-width:1.0;" x1="336" x2="378" y1="380.3516" y2="380.3516"/><line style="stroke:#000000;stroke-width:1.0;" x1="378" x2="378" y1="380.3516" y2="393.3516"/><line style="stroke:#000000;stroke-width:1.0;" x1="337" x2="378" y1="393.3516" y2="393.3516"/><polygon fill="#000000" points="347,389.3516,337,393.3516,347,397.3516,343,393.3516" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="167" x="343" y="334.7642">Prüfung, ob gültiges</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="343" y="354.5532">owner-accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="64" x="343" y="374.3423">vorliegt</text><path d="M10,433.3516 L74,433.3516 L74,440.4844 L64,450.4844 L10,450.4844 L10,433.3516 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="817.5391" style="stroke:#000000;stroke-width:1.5;" width="1454" x="10" y="433.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="446.4185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="89" y="451.3823">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="305" x="94" y="450.2031">kein gültigess owner-accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="399" y="451.3823">]</text><polygon fill="#000000" points="1212,500.8984,1222,504.8984,1212,508.8984,1216,504.8984" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="336" x2="1218" y1="504.8984" y2="504.8984"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="211" x="343" y="498.8892">GET /owner-authenticate</text><line style="stroke:#000000;stroke-width:1.0;" x1="1234" x2="1276" y1="558.4766" y2="558.4766"/><line style="stroke:#000000;stroke-width:1.0;" x1="1276" x2="1276" y1="558.4766" y2="571.4766"/><line style="stroke:#000000;stroke-width:1.0;" x1="1235" x2="1276" y1="571.4766" y2="571.4766"/><polygon fill="#000000" points="1245,567.4766,1235,571.4766,1245,575.4766,1241,571.4766" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="164" x="1241" y="532.6782">Erzeuge PKCE Code</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="211" x="1241" y="552.4673">für verifier und challenge</text><polygon fill="#000000" points="347,601.2656,337,605.2656,347,609.2656,343,605.2656" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="1228" y1="605.2656" y2="605.2656"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="424" x="798" y="599.2563">Redirct to IDP Authorization Endpoint (PKCE Code)</text><polygon fill="#000000" points="127.5,635.0547,117.5,639.0547,127.5,643.0547,123.5,639.0547" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="121.5" x2="325" y1="639.0547" y2="639.0547"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="184" x="135" y="633.0454">Liste verfügbarer IDPs</text><polygon fill="#000000" points="314,668.8438,324,672.8438,314,676.8438,318,672.8438" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="116.5" x2="320" y1="672.8438" y2="672.8438"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="148" x="123.5" y="666.8345">ausgewählter IDP</text><polygon fill="#000000" points="763,702.6328,773,706.6328,763,710.6328,767,706.6328" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="336" x2="769" y1="706.6328" y2="706.6328"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="124" x="343" y="700.6235">GET /authorize</text><polygon fill="#000000" points="347,736.4219,337,740.4219,347,744.4219,343,740.4219" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="774" y1="740.4219" y2="740.4219"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="209" x="559" y="734.4126">Authentication challenge</text><line style="stroke:#000000;stroke-width:1.0;" x1="560" x2="602" y1="774.2109" y2="774.2109"/><line style="stroke:#000000;stroke-width:1.0;" x1="602" x2="602" y1="774.2109" y2="787.2109"/><line style="stroke:#000000;stroke-width:1.0;" x1="561" x2="602" y1="787.2109" y2="787.2109"/><polygon fill="#000000" points="571,783.2109,561,787.2109,571,791.2109,567,787.2109" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="124" x="567" y="768.2017">Authentication</text><polygon fill="#000000" points="763,836.7891,773,840.7891,763,844.7891,767,840.7891" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="555" x2="769" y1="840.7891" y2="840.7891"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="124" x="562" y="814.9907">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="562" y="834.7798">challenge response</text><polygon fill="#000000" points="347,870.5781,337,874.5781,347,878.5781,343,874.5781" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="779" y1="874.5781" y2="874.5781"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="405" x="368" y="868.5688">Authorization Response with Authorization Code</text><polygon fill="#000000" points="1212,929.3672,1222,933.3672,1212,937.3672,1216,933.3672" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="336" x2="1218" y1="933.3672" y2="933.3672"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="526" x="343" y="927.3579">GET /owner-authenticate with Authorization code (PKCE Code)</text><polygon fill="#000000" points="796,1007.9453,786,1011.9453,796,1015.9453,792,1011.9453" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="790" x2="1223" y1="1011.9453" y2="1011.9453"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="178" x="1039" y="986.147">POST /tokenEndpoint</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="169" x="1039" y="1005.936">(authorization code)</text><polygon fill="#000000" points="1212,1041.7344,1222,1045.7344,1212,1049.7344,1216,1045.7344" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="780" x2="1218" y1="1045.7344" y2="1045.7344"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="72" x="787" y="1039.7251">id_token</text><line style="stroke:#000000;stroke-width:1.0;" x1="1234" x2="1276" y1="1079.5234" y2="1079.5234"/><line style="stroke:#000000;stroke-width:1.0;" x1="1276" x2="1276" y1="1079.5234" y2="1092.5234"/><line style="stroke:#000000;stroke-width:1.0;" x1="1235" x2="1276" y1="1092.5234" y2="1092.5234"/><polygon fill="#000000" points="1245,1088.5234,1235,1092.5234,1245,1096.5234,1241,1092.5234" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="121" x="1241" y="1073.5142">prüfe id_token</text><line style="stroke:#000000;stroke-width:1.0;" x1="1234" x2="1276" y1="1171.1016" y2="1171.1016"/><line style="stroke:#000000;stroke-width:1.0;" x1="1276" x2="1276" y1="1171.1016" y2="1184.1016"/><line style="stroke:#000000;stroke-width:1.0;" x1="1235" x2="1276" y1="1184.1016" y2="1184.1016"/><polygon fill="#000000" points="1245,1180.1016,1235,1184.1016,1245,1188.1016,1241,1184.1016" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="66" x="1241" y="1145.3032">erzeuge</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1241" y="1165.0923">owner-accesstoken</text><polygon fill="#000000" points="347,1213.8906,337,1217.8906,347,1221.8906,343,1217.8906" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="1228" y1="1217.8906" y2="1217.8906"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1063" y="1211.8813">owner-accesstoken</text><path d="M10,1289.8906 L297,1289.8906 L297,1300.5156 L287,1310.5156 L10,1310.5156 L10,1289.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="781.2891" style="stroke:#000000;stroke-width:1.5;" width="1581" x="10" y="1289.8906"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="242" x="25" y="1305.7422">VZD-FHIR-Directory Eintrag</text><path d="M214,1342.5156 L464,1342.5156 L464,1353.1406 L454,1363.1406 L214,1363.1406 L214,1342.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="311.9375" style="stroke:#000000;stroke-width:1.5;" width="1367" x="214" y="1342.5156"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="205" x="229" y="1358.3672">FHIR-Ressourcen lesen</text><polygon fill="#000000" points="988,1449.5078,998,1453.5078,988,1457.5078,992,1453.5078" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="336" x2="994" y1="1453.5078" y2="1453.5078"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="278" x="343" y="1407.9204">POST /owner/PractitionerRole/?...</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="333" x="343" y="1427.7095">Finde Datensatz für eigene TelematikID</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="338" x="343" y="1447.4985">Authorization Bearer owner-accesstoken</text><line style="stroke:#000000;stroke-width:1.0;" x1="1010" x2="1052" y1="1507.0859" y2="1507.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="1052" x2="1052" y1="1507.0859" y2="1520.0859"/><line style="stroke:#000000;stroke-width:1.0;" x1="1011" x2="1052" y1="1520.0859" y2="1520.0859"/><polygon fill="#000000" points="1021,1516.0859,1011,1520.0859,1021,1524.0859,1017,1520.0859" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="44" x="1017" y="1481.2876">prüfe</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1017" y="1501.0767">owner-accesstoken</text><polygon fill="#000000" points="1447,1549.875,1457,1553.875,1447,1557.875,1451,1553.875" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1010" x2="1453" y1="1553.875" y2="1553.875"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="1017" y="1547.8657">HTTPS Forward</text><polygon fill="#000000" points="1021,1583.6641,1011,1587.6641,1021,1591.6641,1017,1587.6641" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1015" x2="1463" y1="1587.6641" y2="1587.6641"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="132" x="1325" y="1581.6548">result body json</text><polygon fill="#000000" points="347,1617.4531,337,1621.4531,347,1625.4531,343,1621.4531" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="1004" y1="1621.4531" y2="1621.4531"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="132" x="866" y="1615.4438">result body json</text><path d="M214,1693.4531 L504,1693.4531 L504,1704.0781 L494,1714.0781 L214,1714.0781 L214,1693.4531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="311.9375" style="stroke:#000000;stroke-width:1.5;" width="1367" x="214" y="1693.4531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="245" x="229" y="1709.3047">FHIR-Ressourcen schreiben</text><polygon fill="#000000" points="988,1800.4453,998,1804.4453,988,1808.4453,992,1804.4453" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="336" x2="994" y1="1804.4453" y2="1804.4453"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="459" x="343" y="1758.8579">FHIR-Operationen um eigenen Datensatz zu verwalten</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="338" x="343" y="1778.647">Authorization Bearer owner-accesstoken</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="314" x="343" y="1798.436">(Optional: setze Flag für Sichtbarkeit)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1010" x2="1052" y1="1858.0234" y2="1858.0234"/><line style="stroke:#000000;stroke-width:1.0;" x1="1052" x2="1052" y1="1858.0234" y2="1871.0234"/><line style="stroke:#000000;stroke-width:1.0;" x1="1011" x2="1052" y1="1871.0234" y2="1871.0234"/><polygon fill="#000000" points="1021,1867.0234,1011,1871.0234,1021,1875.0234,1017,1871.0234" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="44" x="1017" y="1832.2251">prüfe</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1017" y="1852.0142">owner-accesstoken</text><polygon fill="#000000" points="1447,1900.8125,1457,1904.8125,1447,1908.8125,1451,1904.8125" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1010" x2="1453" y1="1904.8125" y2="1904.8125"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="1017" y="1898.8032">HTTPS Forward</text><polygon fill="#000000" points="1021,1934.6016,1011,1938.6016,1021,1942.6016,1017,1938.6016" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1015" x2="1463" y1="1938.6016" y2="1938.6016"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="132" x="1325" y="1932.5923">result body json</text><polygon fill="#000000" points="347,1968.3906,337,1972.3906,347,1976.3906,343,1972.3906" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="1004" y1="1972.3906" y2="1972.3906"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="132" x="866" y="1966.3813">result body json</text><polygon fill="#000000" points="127.5,2034.1797,117.5,2038.1797,127.5,2042.1797,123.5,2038.1797" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="121.5" x2="330" y1="2038.1797" y2="2038.1797"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="54" x="270" y="2032.1704">Status</text><!--MD5=[a11d8bd78c7fd192b79cfe2d69672aa2]
>>>>>>> master
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 1
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontName Impact
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
    actor U as "Akteur in der Rolle\nUser-HBA"
<<<<<<< HEAD
    participant C as "TI-Messenger-Client"
    participant A as "Authenticator \ndes IDP-Dienst"
=======
    box <size:18>Endgerät</size> #WhiteSmoke
      participant C as "TI-Messenger-Client"
      participant A as "Authenticator \ndes IDP-Dienst"
    end box
>>>>>>> master
    participant I as "IDP-Dienst" 
    box <size:18>VZD-FHIR-Directory</size> #WhiteSmoke
      participant FP as "FHIR-Proxy"
      participant Auth as "Auth-Service"
      participant VZD as "FHIR-Directory"
    end box

|||
<<<<<<< HEAD
note over U, I: <size:17>Der Akteur ist bei einem Messenger Service angemeldet (siehe AF_10057</size>
=======
note over U, I: \n<size:17>Der Akteur ist bei einem Messenger Service angemeldet (siehe AF_10057)</size>\n
>>>>>>> master
|||

U->C: FHIR Ressourcen im \nVZD-FHIR-Directory \nhinzufügen (MXID)
  Activate C
C->C: Prüfung, ob gültiges \nowner-accesstoken \nvorliegt

|||
<<<<<<< HEAD
alt#LightGrey #AliceBlue <size:16>kein gültigess owner-access-token</size>
|||

  C->C: Erzeuge PKCE Code \nfür verifier und challenge
  C->FP: GET /owner-authenticate
    Activate FP
  FP->Auth: HTTP Forward
    Activate Auth
  Auth- ->FP: Redirct to IDP \nAuthorization Endpoint
    Deactivate Auth
  FP- ->C: HTTP Forward
    Deactivate FP
        
  C->U: Liste verfügbarer IDP's
  U->C: ausgewählterr IDP
=======
alt#LightGrey #AliceBlue <size:16>kein gültigess owner-accesstoken</size>
|||

  C->Auth: GET /owner-authenticate
    Activate Auth
  Auth->Auth: Erzeuge PKCE Code \nfür verifier und challenge
  Auth- ->C: Redirct to IDP Authorization Endpoint (PKCE Code)
    Deactivate Auth

  C->U: Liste verfügbarer IDPs
  U->C: ausgewählter IDP
>>>>>>> master
    
  C->I: GET /authorize
    Activate A
    Activate I
  I- ->C: Authentication challenge
  A->A: Authentication
  A->I: Authentication \nchallenge response
    Deactivate A
  I- ->C: Authorization Response with Authorization Code
    Deactivate I
<<<<<<< HEAD
          
  C->FP: GET /owner-authenticate with Authorization code
    Activate FP
  FP->Auth: HTTP Forward
    Deactivate FP
    Activate Auth
  Auth- ->FP: POST /tokenEndpoint\n(authorization code)
    Deactivate Auth
    Activate FP
  FP- ->I: HTTP Forward
    Activate I
  I->FP: Response (id_token)
    Deactivate I
  FP->Auth: HTTP Forward
    Deactivate FP
    Activate Auth
  Auth->Auth: prüfe id_token
  Auth->Auth: erzeuge \nowner-accesstoken
  Auth- ->FP: HTTP 200 OK \n(access_token=\nowner-accesstoken)
    Deactivate Auth
    Activate FP
  FP- ->C: HTTP Forward
    Deactivate FP
=======
       
  |||          
  C->Auth: GET /owner-authenticate with Authorization code (PKCE Code)
    Activate Auth
  |||
  Auth- ->I: POST /tokenEndpoint\n(authorization code)
    Activate I
  I->Auth: id_token
    Deactivate I
  Auth->Auth: prüfe id_token
  |||
  Auth->Auth: erzeuge \nowner-accesstoken
  Auth- ->C: owner-accesstoken
    Deactivate Auth
  |||
>>>>>>> master
end
      
|||

group <size:16>VZD-FHIR-Directory Eintrag</size>
  |||
<<<<<<< HEAD
  C->FP: GET /owner/TIHealthCareService?providedBy.id=telematikID \nAuthorization Bearer owner-accesstoken
    Activate FP
  FP->FP: prüfe \nowner-accesstoken
  FP->VZD: HTTP Forward
    Activate VZD
  VZD- ->FP: HTTP 200 OK (result body json)
    Deactivate VZD
  FP- ->C: HTTP 200 OK (result body json)
    Deactivate FP
  C->FP: PUT /owner/TIHealthCareService?telecom.value=MXID \nAuthorization Bearer owner-accesstoken \n(Optional: setze Flag für Sichtbarkeit)
    Activate FP
  FP->FP: prüfe \nowner-accesstoken
  FP->VZD: HTTP Forward
    Activate VZD
  VZD- ->FP: HTTP 201 Created (result body json)
    Deactivate VZD
  FP- ->C: HTTP 201 Created (result body json)
    Deactivate FP
  C- ->U: Status    
=======
  group <size:16>FHIR-Ressourcen lesen</size>
  |||
  C->FP: POST /owner/PractitionerRole/?... \nFinde Datensatz für eigene TelematikID \nAuthorization Bearer owner-accesstoken
    Activate FP
  FP->FP: prüfe \nowner-accesstoken
  FP->VZD: HTTPS Forward
    Activate VZD
  VZD- ->FP: result body json
    Deactivate VZD
  FP- ->C: result body json
    Deactivate FP
  |||
  end
    
  |||
  group <size:16>FHIR-Ressourcen schreiben</size>
  |||
  C->FP: FHIR-Operationen um eigenen Datensatz zu verwalten \nAuthorization Bearer owner-accesstoken \n(Optional: setze Flag für Sichtbarkeit)
    Activate FP
  FP->FP: prüfe \nowner-accesstoken
  FP->VZD: HTTPS Forward
    Activate VZD
  VZD- ->FP: result body json
    Deactivate VZD
  FP- ->C: result body json
    Deactivate FP
     
  |||
  end

  C- ->U: Status    
    Deactivate C
>>>>>>> master
  |||
end
|||

  Deactivate C
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>